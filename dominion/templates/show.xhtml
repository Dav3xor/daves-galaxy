<?xml version="1.0" standalone="no"?>
<!DOCTYPE html PUBLIC
    "-//W3C//DTD XHTML 1.1 plus MathML 2.0 plus SVG 1.1//EN"
    "http://www.w3.org/2002/04/xhtml-math-svg/xhtml-math-svg.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
      version="XHTML 1.2" xml:lang="en"
      xmlns:svg="http://www.w3.org/2000/svg"
      xmlns:xlink="http://www.w3.org/1999/xlink">
  <head>
    <style type="text/css">
      html, body, div, span, applet, object, iframe,
      h1, h2, h3, h4, h5, h6, p, blockquote, pre,
      a, abbr, acronym, address, big, cite, code,
      del, dfn, em, font, img, ins, kbd, q, s, samp,
      small, strike, strong, sub, sup, tt, var,
      b, u, i, center,
      dl, dt, dd, ol, ul, li,
      fieldset, form, label, legend,
      table, caption, tbody, tfoot, thead, tr, th, td {
        margin: 0;
        padding: 0;
        border: 0;
        outline: 0;
        font-size: 100%;
        vertical-align: baseline;
        background: transparent;
      }
      body {
        line-height: 1;
      }
      ol, ul {
        list-style: none;
      }
      blockquote, q {
        quotes: none;
      }
      blockquote:before, blockquote:after,
      q:before, q:after {
        content: '';
        content: none;
      }

      /* remember to define focus styles! */
      :focus {
        outline: 0;
      }

      /* remember to highlight inserts somehow! */
      ins {
        text-decoration: none;
      }
      del {
        text-decoration: line-through;
      }

      /* tables still need 'cellspacing="0"' in the markup */
      table {
        border-collapse: collapse;
        border-spacing: 0;
      }





      h1 {color: white; font-family: sans-serif; font-weight: bold; font-size: 14pt; font-color: white;
          margin: 0px; padding-left: 10px; padding-right: 10px;}
      body {color: yellow; background-color: black; 
            font-family: sans-serif; font-weight: bold;}
      li {margin: 0px; padding: 0px;}
      ul {list-style-type:none; margin: 0px; padding: 0px;}
      li,table {display: block; width: auto; padding-top: 2px; 
          padding-bottom: 2px;
          padding-left: 10px; padding-right: 10px;}
      a:link {color: yellow; text-decoration: none;}
      a:visited {color: yellow; text-decoration: none;}
      li:hover {color: white; background-color: #003355; text-decoration: none;}
      form {border: 10px;}
      input {width: 25pt;}
    </style>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  </head>
  <body onresize="setaspectratio()">
    <table><tr><td>
    <object
      height="86px"
      data="/site_media/newdominionlogo.svg" 
      style="position:absolute; margin-top: 5px; margin-left: 5px;"
      type="image/svg+xml">
      logo
    </object>
    </td></tr></table>
    <object
      data="/site_media/controls.svg"
      type="image/svg+xml"
      style="position:absolute; margin-top: 100px; margin-left:5px;">
      navigation
    </object>
    <div id="mapdiv">
          <script language="JavaScript" src="/site_media/newdominion.js"></script>
        <svg xmlns="http://www.w3.org/2000/svg"   
          version="1.1"
          id="map"
          viewBox="{{ viewable.0 }} {{ viewable.1 }} {{ viewable.2 }} {{ viewable.3 }}" 
          ddpreserveAspectRatio="xMidYMid slice"
          onmousedown="domousedown(evt)"
          onmouseup="domouseup(evt)"
          onmousemove="domousemove(evt)"
          ondragstart="alert('drag')"
          onload="init(evt)">
          <defs>
            <marker id="endArrow" viewBox="0 0 10 10" 
                    refX="1" refY="5" markerUnits="strokeWidth" 
                    orient="auto" markerWidth="5" markerHeight="4">
              <polyline points="0,0 10,5 0,10 1,5" fill="#440000" />
            </marker>

          </defs>

          <rect x="{{viewable.0}}" y="{{viewable.1}}" 
                width="{{viewable.2}}" height="{{viewable.3}}" 
                fill="black" />
          <line visibility="hidden" id="rubberband" stroke-width=".03" 
                stroke="#440000" x1="1148.6" y1="976.0" x2="1145.0" y2="970"
                marker-end="url(#endArrow)"/>
          {% if fleets %}
            {% for fleet in fleets %}
            {{ fleet.svg|safe }}
            {% endfor %}
          {% endif %}
          {% if planets %}
            {% for planet in planets %}
            {{ planet.svg|safe }}
            {% endfor %}  
          {% endif %}
        </svg>
    </div>
  </body>
</html>
